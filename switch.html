<!DOCTYPE html>
<html lang="en">
<head>
    <title>Inox</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <style>
        .container {
            position: relative;
        }
        .upperHeading {
            width: 330px;
            margin-top: 20px;
            background-color: black;
            padding: 5px;
        }
        .form-inline {
            position: absolute;
            top: 87%;
            width: 1200px;
            margin-top: 0px;
            background: rgb(49, 49, 49);
        }
        .form-group { 
            padding: 10px;
        }
        label {
            background-color: rgb(235, 66, 66);
            color: white;
            padding: 5px;
        }
        .book {
            background-color: rgb(235, 66, 66);
            color:white;
            width: 180px;
        }
        .popup {
            display: none;
            width:1000px;
            margin: auto;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }
    </style>
    <script>
        var Movies=["Select Movie","Baaghi 3 (U/A)", "Thappad (A)"];
        
        function bodyLoad() {
            var lstMovies=document.getElementById("lstMovies");
            for(var i=0;i<Movies.length;i++){
                var option=document.createElement("option");
                option.text=Movies[i];
                option.value=Movies[i];
                lstMovies.appendChild(option);
            }
        }

        var baaghiCinema = ["Select Cinema","INOX National,Virugambakkam","INOX Chennai Citi Centre,Dr. R. K. Salai"];
        var thappadCinema = ["Select Cinema","INOX The Marina Mall, OMR","PVR, Next Gallaria Mall"];

        function showCinema(movie) {
            var lstCinema=document.getElementById("lstCinema");
            for(var i=0; i<movie.length;i++){
                var option = document.createElement("option");
                option.text = movie[i];
                option.value = movie[i];
                lstCinema.appendChild(option);
            }
        }

        function movieChange() {
            var movie=document.getElementById("lstMovies").value;
            switch(movie){
                case "Baaghi 3 (U/A)":
                    lstCinema.innerHTML = "";
                    showCinema(baaghiCinema);
                    break;
                case "Thappad (A)":
                    lstCinema.innerHTML = "";
                    showCinema(thappadCinema);
                    break;
            }
        }

        function showSeats() {
            var lstSeats=document.getElementById("lstSeats");
            for(var i=1;i<=12;i++){
                var option=document.createElement("option");
                option.text=i;
                option.value=i;
                lstSeats.appendChild(option);
            }
        }

        var Virugambakkam = ["Select Date", "Today 6th March", "Tomorrow 7th March"];
        var RK = ["Select Date", "Today 6th March", "Tomorrow 7th March", "Sunday 8th March"];
        var OMR = ["Select Date", "Today 6th March", "Tomorrow 7th March"];
        var PVR = ["Select Date", "Today 6th March", "Tomorrow 7th March"];

        function showDate(cinema) {
            var lstDate=document.getElementById("lstDate");
            for(var i=0; i<cinema.length;i++){
                var option = document.createElement("option");
                option.text = cinema[i];
                option.value = cinema[i];
                lstDate.appendChild(option);
            }
        }

        function cinemaChange() {
            var date=document.getElementById("lstCinema").value;
            switch(date){
                case "INOX National,Virugambakkam":
                    lstDate.innerHTML = "";
                    showDate(Virugambakkam);
                    break;
                case "INOX Chennai Citi Centre,Dr. R. K. Salai":
                    lstDate.innerHTML = "";
                    showDate(RK);
                    break;
                case "INOX The Marina Mall, OMR":
                    lstDate.innerHTML = "";
                    showDate(OMR);
                    break;
                case "PVR, Next Gallaria Mall":
                    lstDate.innerHTML = "";
                    showDate(PVR);
                    break;
            }
        }

        var Vir6March = ["Select Timing","11:35 AM","06:15 PM","09:45 PM"];
        var Vir7March = ["Select Timing","09:40 AM","01:35 AM","06:15 PM","10:45 PM"];
        var RK6March = ["Select Timing","12:00 PM","03:50 PM","07:10 PM","10:20 PM"];
        var RK7March = ["Select Timing","09:10 AM","01:00 PM","03:50 PM","07:10 PM","10:20 PM"];
        var RK8March = ["Select Timing","09:00 AM","07:10 PM","10:20 PM"];
        var OMR6March = ["Select Timing","07:15 PM"];
        var OMR7March = ["Select Timing","11:35 AM","07:05 PM"];
        var PVR6March = ["Select Timing","03:30 PM"];
        var PVR7March = ["Select Timing","11:35 AM","09:45 PM"];

        function showTime(date) {
            document.getElementById("lstTiming").innerHTML="";
            var lstTiming= document.getElementById("lstTiming");
            for(var i=0; i<date.length;i++){
                var option = document.createElement("option");
                option.text = date[i];
                option.value = date[i];
                lstTiming.appendChild(option);
            }
        }

        function dateChange() {
            var Cinema = document.getElementById("lstCinema").value;
            var date = document.getElementById("lstDate").value;
            var lstTiming = document.getElementById("lstTiming");
            switch(date){
                case "Today 6th March": 
                switch(Cinema){
                    case "INOX National,Virugambakkam": showTime(Vir6March);break;
                    case "INOX Chennai Citi Centre,Dr. R. K. Salai": showTime(RK6March);break;
                    case "INOX The Marina Mall, OMR": showTime(OMR6March);break;
                    case "PVR, Next Gallaria Mall": showTime(PVR6March);break;
                }
                break;
                case "Tomorrow 7th March": 
                switch(Cinema){
                    case "INOX National,Virugambakkam": showTime(Vir7March);break;
                    case "INOX Chennai Citi Centre,Dr. R. K. Salai": showTime(RK7March);break;
                    case "INOX The Marina Mall, OMR": showTime(OMR7March);break;
                    case "PVR, Next Gallaria Mall": showTime(PVR7March);break;
                }
                break;
                case "Sunday 8th March": 
                switch(Cinema){
                    case "INOX Chennai Citi Centre,Dr. R. K. Salai": showTime(RK8March);break;
                }
                break;
            }
        }

        function enableClick() {
            var lstSeats=document.getElementById("lstSeats").value;
            var button=document.getElementById("book");
            if(lstSeats!=="Select Seats"){
                button.disabled = false;
            }
        }
        
        function popup() {
            document.getElementById("popup").style.display="block";
            var tr=document.createElement("tr");
            var tdMovie=document.createElement("td");
            var tdCinema=document.createElement("td");
            var tdDate=document.createElement("td");
            var tdTime=document.createElement("td");
            var tdSeats=document.createElement("td");
            tdMovie.innerHTML = document.getElementById("lstMovies").value;
            tdCinema.innerHTML = document.getElementById("lstCinema").value;
            tdDate.innerHTML = document.getElementById("lstDate").value;
            tdTime.innerHTML = document.getElementById("lstTiming").value;
            tdSeats.innerHTML = document.getElementById("lstSeats").value;
            tr.appendChild(tdMovie);
            tr.appendChild(tdCinema);
            tr.appendChild(tdDate);
            tr.appendChild(tdTime);
            tr.appendChild(tdSeats);
            document.getElementById("tbody").appendChild(tr);
        }
        function closePopup() {
            document.getElementById("popup").style.display="none";
        }
        
    </script>
</head>
<body onload="bodyLoad()">
    <div class="container">
        <div class="upperHeading">
            <label>Quick Booking</label><span><img src="../Images/arrow.png" alt=""></span>
            <button class="btn bg-black text-white" onclick="byMovie()">By Movie</button>
            <button class="btn bg-black text-white" onclick="byCinema()">By Cinema</button>
        </div>
        <div class="form-inline">
            <div class="form-group">
                <select class="form-control" style="width: 235px; margin-left: 20px;" id="lstMovies" onchange="movieChange()">
                    
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" id="lstCinema" style="width: 335px;" onchange="cinemaChange()">
                    <option>Select Cinema</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" id="lstDate" style="width: 215px;" onchange="dateChange()">
                    <option >Select Date</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" id="lstTiming" onchange="showSeats()">
                    <option >Select Timing</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control" id="lstSeats" onchange="enableClick()">
                    <option >Select Seats</option>
                </select>
            </div>
            <div class="form-group">
                <button class="btn book" id="book" style="margin-left: 20px;" onclick="popup()" disabled >Book</button>
            </div>
        </div>
    </div>
    <div class="popup" id="popup">
        <table class="table table-stripe bg-secondary text-white">
            <thead>
                <tr style="background-color: black;">
                    <th>Movie Name</th>
                    <th>Cinema Name</th>
                    <th>Date</th>
                    <th>Show Timing</th>
                    <th>Total Seats</th>
                </tr>
            </thead>
            <tbody id="tbody">

            </tbody>
        </table>
        <div>
            <button class="btn btn-primary book" style="margin-left: 400px;"  onclick="closePopup()">Close</button>
        </div>
    </div>
</body>
</html>